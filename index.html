<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ustav AI - Mission Control (Demo Mode)</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0c0a1f;
            background-image: url('https://images.pexels.com/photos/207529/pexels-photo-207529.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            overflow-x: hidden;
            color: #e0e0e0;
        }
        
        .glass-card {
            background: rgba(26, 26, 58, 0.3);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 1.5rem;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }
        
        .loader {
            border-top-color: #60a5fa;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .tab-button {
            transition: all 0.3s ease;
            color: #9ca3af;
            border-bottom: 2px solid transparent;
        }
        .tab-button.active {
            color: #60a5fa;
            border-color: #60a5fa;
        }
        .tab-pane { display: none; }
        .tab-pane.active { display: block; }
        
        .modal-scroll::-webkit-scrollbar { width: 0.5rem; }
        .modal-scroll::-webkit-scrollbar-track { background: #1a1a3a; }
        .modal-scroll::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 9999px; }

        .modal-input, .modal-textarea {
            width: 100%;
            background-color: rgba(17, 24, 39, 0.7);
            border: 1px solid #4b5563;
            color: #e0e0e0;
            border-radius: 0.5rem;
            padding: 0.75rem;
            font-family: inherit;
            font-size: 0.95rem;
            min-height: 150px;
        }
        .modal-textarea-json {
            font-family: 'SFMono-Regular', Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-size: 0.9rem;
            min-height: 200px;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8">
    
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="fixed inset-0 bg-black bg-opacity-80 flex flex-col items-center justify-center z-50 hidden">
        <div class="loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-32 w-32"></div>
        <p class="mt-4 text-white text-lg" id="loading-text">Generating Demo Plan...</p>
    </div>

    <!-- AI Plan Generation/Edit Modal -->
    <div id="ai-plan-modal" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-40 hidden p-4">
        <div class="glass-card w-full max-w-6xl max-h-[90vh] flex flex-col overflow-hidden">
            <!-- Modal Header -->
            <div class="p-6 border-b border-gray-700">
                <h2 id="modal-title" class="text-2xl font-bold text-white">Your AI-Generated Event Plan</h2>
                <p class="text-gray-400">Here is the complete plan generated by Ustav AI.</p>
            </div>
            
            <!-- Modal Content (with new structure) -->
            <div class="flex-1 flex flex-col md:flex-row overflow-y-auto modal-scroll">
                
                <!-- Left (Tabs) -->
                <div class="w-full md:w-1/3 p-6 border-b md:border-b-0 md:border-r border-gray-700">
                    <h3 id="preview-title" class="text-2xl font-bold mb-6">Event Title</h3>
                    
                    <!-- Tab Buttons -->
                    <div class="flex flex-col space-y-2">
                        <button id="modal-tab-details" class="tab-button active text-left text-lg font-medium py:3 px-4 border-b-0 border-l-4">Details & Schedule</button>
                        <button id="modal-tab-volunteers" class="tab-button text-left text-lg font-medium py:3 px-4 border-b-0 border-l-4">Volunteer Plan</button>
                        <button id="modal-tab-materials" class="tab-button text-left text-lg font-medium py:3 px-4 border-b-0 border-l-4">Materials List</button>
                        <button id="modal-tab-budget" class="tab-button text-left text-lg font-medium py:3 px-4 border-b-0 border-l-4">Budget Plan</button>
                        <button id="modal-tab-assets" class="tab-button text-left text-lg font-medium py:3 px-4 border-b-0 border-l-4">Asset Pack</button>
                    </div>
                </div>
                
                <!-- Right (Tab Content Panes) -->
                <div class="w-full md:w-2/3 p-6 flex-1 overflow-y-auto modal-scroll space-y-6">
                    <!-- Details Pane -->
                    <div id="modal-pane-details" class="tab-pane active space-y-6">
                        <div>
                            <label class="font-semibold text-white text-xl mb-3 block">Description:</label>
                            <div id="preview-description" class="modal-input"></div>
                        </div>
                        <div>
                            <label class="font-semibold text-white text-xl mb-3 block">Schedule:</label>
                            <pre id="preview-schedule" class="modal-input modal-textarea-json"></pre>
                        </div>
                    </div>
                    
                    <!-- Volunteers Pane -->
                    <div id="modal-pane-volunteers" class="tab-pane">
                        <label class="font-semibold text-white text-xl mb-3 block">Volunteer Plan</label>
                        <pre id="preview-volunteers" class="modal-input modal-textarea-json"></pre>
                    </div>
                    
                    <!-- Materials Pane -->
                    <div id="modal-pane-materials" class="tab-pane">
                        <label class="font-semibold text-white text-xl mb-3 block">Materials List</label>
                        <pre id="preview-materials" class="modal-input modal-textarea-json"></pre>
                    </div>
                    
                    <!-- Budget Pane -->
                    <div id="modal-pane-budget" class="tab-pane">
                        <label class="font-semibold text-white text-xl mb-3 block">Budget Plan</label>
                        <pre id="preview-budget" class="modal-input modal-textarea-json"></pre>
                    </div>

                    <!-- Assets Pane -->
                    <div id="modal-pane-assets" class="tab-pane space-y-6">
                        <div>
                            <label class="font-semibold text-white text-xl mb-3 block">Presentation Outline</label>
                            <pre id="preview-presentation" class="modal-input modal-textarea-json"></pre>
                        </div>
                        <div>
                            <h4 class="font-semibold text-white text-xl mb-3">AI-Generated Poster</h4>
                            <img id="preview-image-modal" src="https://placehold.co/600x600/374151/FFFFFF?text=Demo+Poster" alt="Generated event poster" class="rounded-lg aspect-[1/1] object-cover w-full max-w-sm mx-auto shadow-lg">
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Modal Footer (Actions) -->
            <div class="p-6 bg-gray-900 bg-opacity-50 border-t border-gray-700 flex justify-end space-x-4">
                <button id="done-event-button" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-5 rounded-lg transition duration-200">
                    Done
                </button>
            </div>
        </div>
    </div>


    <!-- Main Content Grid -->
    <div class="max-w-7xl mx-auto relative z-10 p-4">
        
        <!-- Section 1: AI Command Center -->
        <div class="text-center mb-16 mt-8 md:mt-16">
            <h1 class="text-5xl md:text-7xl font-bold text-white mb-4">Ustav AI</h1>
            <p class="text-xl md:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto">Your Complete AI Event Co-Pilot. Start with an idea, get a full plan.</p>
            
            <form id="event-form" class="glass-card max-w-3xl mx-auto p-6 md:p-8">
                <label for="event-idea" class="block text-lg font-medium text-gray-200 mb-4">Enter your event idea to begin:</label>
                <textarea id="event-idea" name="event-idea" rows="3" class="w-full bg-gray-700 bg-opacity-50 border-2 border-gray-600 text-white text-lg rounded-lg p-4 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none" placeholder="e.g., 'An inter-college tech quiz on AI and machine learning'" required></textarea>
                <button type="submit" id="generate-button" class="w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white text-lg font-bold py-3 px-6 rounded-lg transition duration-200 shadow-lg flex items-center justify-center">
                    <svg class="w-6 h-6 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0.0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.457-2.457L14.25 6l1.036-.259a3.375 3.375 0 002.457-2.457L18 2.25l.259 1.036a3.375 3.375 0 002.457 2.457L21.75 6l-1.036.259a3.375 3.375 0 00-2.457 2.457z" /></svg>
                    Generate Full Event Plan
                </button>
            </form>
        </div>
    </div>
    
    <!-- App Logic (NO FIREBASE OR API CALLS) -->
    <script type="module">
        // --- DOM ELEMENTS ---
        const eventForm = document.getElementById('event-form');
        const eventIdeaInput = document.getElementById('event-idea');
        const generateButton = document.getElementById('generate-button');
        const loadingOverlay = document.getElementById('loading-overlay');
        const loadingText = document.getElementById('loading-text');

        // Modal Elements
        const aiPlanModal = document.getElementById('ai-plan-modal');
        const modalTitle = document.getElementById('modal-title');
        const previewImageModal = document.getElementById('preview-image-modal');
        
        // Modal CONTENT fields
        const previewTitle = document.getElementById('preview-title');
        const previewDescription = document.getElementById('preview-description');
        const previewSchedule = document.getElementById('preview-schedule');
        const previewVolunteers = document.getElementById('preview-volunteers');
        const previewMaterials = document.getElementById('preview-materials');
        const previewBudget = document.getElementById('preview-budget');
        const previewPresentation = document.getElementById('preview-presentation');
        
        const doneEventButton = document.getElementById('done-event-button');
        
        // Modal Tab Elements
        const modalTabs = {
            details: { btn: document.getElementById('modal-tab-details'), pane: document.getElementById('modal-pane-details') },
            volunteers: { btn: document.getElementById('modal-tab-volunteers'), pane: document.getElementById('modal-pane-volunteers') },
            materials: { btn: document.getElementById('modal-tab-materials'), pane: document.getElementById('modal-pane-materials') },
            budget: { btn: document.getElementById('modal-tab-budget'), pane: document.getElementById('modal-pane-budget') },
            assets: { btn: document.getElementById('modal-tab-assets'), pane: document.getElementById('modal-pane-assets') }
        };

        // --- MOCK DATA ---
        // This is fake data used when the "Generate" button is clicked
        const MOCK_EVENT_DATA = {
            "title": "Demo: Inter-College Tech Quiz",
            "description": "This is a demonstration plan for the tech quiz. It's a full-day event bringing together the brightest minds from colleges across the city to compete in a battle of wits and AI knowledge.",
            "schedule": "09:00 AM - Registration\n10:00 AM - Round 1: Rapid Fire\n12:00 PM - Lunch Break\n01:00 PM - Round 2: AI Case Study\n03:00 PM - Final Round: Live Hack\n05:00 PM - Prize Distribution",
            "volunteer_plan": [
                { "team": "Registration", "count": 4, "responsibilities": "Handle check-ins, distribute kits" },
                { "team": "Logistics", "count": 6, "responsibilities": "Manage AV, seating, and food" },
                { "team": "Coordination", "count": 3, "responsibilities": "Manage timers, collect scores" }
            ],
            "materials_list": [
                { "item": "Laptops (for scoring)", "quantity": "3", "purpose": "Live score tracking" },
                { "item": "Projector & Screen", "quantity": "1", "purpose": "Displaying questions" },
                { "item": "Quiz Buzzers", "quantity": "4 sets", "purpose": "Final round" },
                { "item": "Prizes and Trophies", "quantity": "3", "purpose": "For winners" }
            ],
            "budget_plan": [
                { "item": "Venue Booking", "estimated_cost": "₹15,000", "notes": "Main auditorium" },
                { "item": "Food & Catering", "estimated_cost": "₹20,000", "notes": "Lunch for 100 people" },
                { "item": "Prizes", "estimated_cost": "₹10,000", "notes": "Trophies and vouchers" },
                { "item": "Marketing", "estimated_cost": "₹5,000", "notes": "Online and offline" }
            ],
            "presentation_outline": [
                "Slide 1: Event Title & Introduction",
                "Slide 2: Why This Event Matters",
                "Slide 3: Event Format (The 3 Rounds)",
                "Slide 4: Target Audience & Expected Turnout",
                "Slide 5: Our Team & Sponsors",
                "Slide 6: Call to Action: Join Us!"
            ]
        };
        const MOCK_IMAGE_URL = "https://placehold.co/600x600/0c0a1f/60a5fa?text=Ustav+AI+Demo";

        // --- REMOVED: AI API CALLS ---

        // --- EVENT HANDLERS ---
        
        // Modal Tab Switcher
        function switchModalTab(activeTab) {
            Object.keys(modalTabs).forEach(key => {
                const is_active = key === activeTab;
                modalTabs[key].btn.classList.toggle('active', is_active);
                modalTabs[key].pane.classList.toggle('active', is_active);
            });
        }
        Object.keys(modalTabs).forEach(key => {
            modalTabs[key].btn.addEventListener('click', () => switchModalTab(key));
        });

        // Function to populate the modal
        function populateModal(eventData) {
            previewTitle.textContent = eventData.title || '';
            previewDescription.textContent = eventData.description || '';
            previewSchedule.textContent = eventData.schedule || '';
            previewPresentation.textContent = (eventData.presentation_outline || []).join('\n');
            
            // Format JSON for "pretty" display
            previewVolunteers.textContent = JSON.stringify(eventData.volunteer_plan || [], null, 2);
            previewMaterials.textContent = JSON.stringify(eventData.materials_list || [], null, 2);
            previewBudget.textContent = JSON.stringify(eventData.budget_plan || [], null, 2);
        }

        // Generate Event Button (MODIFIED FOR DEMO)
        eventForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const idea = eventIdeaInput.value;
            if (!idea) return;

            loadingOverlay.classList.remove('hidden');
            generateButton.disabled = true;
            generateButton.innerHTML = 'Generating...';

            try {
                // FAKE LOADER
                loadingText.textContent = 'Generating Demo Plan...';
                await new Promise(resolve => setTimeout(resolve, 1500)); // Simulate AI thinking time
                
                // --- Populate Modal with MOCK data ---
                modalTitle.textContent = `Demo Plan: ${idea}`; // Use the user's idea in the title
                populateModal(MOCK_EVENT_DATA);
                previewImageModal.src = MOCK_IMAGE_URL; 

                // Reset to first tab and show modal
                switchModalTab('details');
                aiPlanModal.classList.remove('hidden');

            } catch (error) {
                console.error("Error during demo generation:", error);
                alert("An unexpected error occurred.");
            } finally {
                loadingOverlay.classList.add('hidden');
                generateButton.disabled = false;
                generateButton.innerHTML = '<svg class="w-6 h-6 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0.0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.457-2.457L14.25 6l1.036-.259a3.375 3.375 0 002.457-2.457L18 2.25l.259 1.036a3.375 3.375 0 002.457 2.457L21.75 6l-1.036.259a3.375 3.375 0 00-2.457 2.457z" /></svg> Generate Full Event Plan';
            }
        });

        // Modal "Done" Button
        doneEventButton.addEventListener('click', () => {
            aiPlanModal.classList.add('hidden');
        });

        // --- START THE APP ---
        console.log("Ustav AI (Demo Mode) Initialized.");

    </script>
</body>
</html>

